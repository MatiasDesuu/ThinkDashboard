<!DOCTYPE html>
<html lang="en" data-theme="{{.Theme}}" data-show-background-dots="{{.ShowBackgroundDots}}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Configuration</title>
    <script src="/static/js/theme-loader.js"></script>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/api/theme.css">
    <link rel="stylesheet" href="/static/css/theme.css">
    <link rel="stylesheet" href="/static/css/config.css">
    <link rel="stylesheet" href="/static/css/reorder.css">
    <link rel="stylesheet" href="/static/css/modal.css">
    <link rel="stylesheet" href="/static/css/search.css">
    <link rel="stylesheet" href="/static/css/status.css">
    <link rel="stylesheet" href="/static/css/select.css">
    <link rel="stylesheet" href="/static/css/font-size.css">
    <link rel="stylesheet" href="/static/css/responsive.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;900&display=swap" rel="stylesheet">
</head>
<body class="{{.Theme}}" data-theme="{{.Theme}}" data-show-background-dots="{{.ShowBackgroundDots}}">
    <!-- Contenedor 1: Title y nav links -->
    <div class="config-section section-header">
        <div class="container">
            <header class="header">
                <h1 class="title">configuration</h1>
                <div class="nav-links">
                    <a href="/colors" class="back-link">customize colors</a>
                    <a href="/" class="back-link">← back to dashboard</a>
                </div>
            </header>
        </div>
    </div>

    <!-- Contenedor 2: Save/Reset buttons y tabs -->
    <div class="config-section section-controls">
        <div class="container">
            <div class="config-controls-wrapper">
                <div class="config-actions-top">
                    <button id="save-btn" class="btn btn-success">Save Changes</button>
                    <button id="reset-btn" class="btn btn-secondary">Reset to Defaults</button>
                </div>

                <div class="tabs">
                    <button class="tab-button active" data-tab="general">general</button>
                    <button class="tab-button" data-tab="pages">pages</button>
                    <button class="tab-button" data-tab="categories">categories</button>
                    <button class="tab-button" data-tab="bookmarks">bookmarks</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Contenedor 3: Contenido de la página -->
    <div class="config-section section-content">
        <div class="container">
            <main class="config-main">
            <div class="tab-content active" data-tab-content="general">
            <div class="config-section">
                <div class="form-group">
                    <label for="theme-select">Theme:</label>
                    <select id="theme-select">
                        <option value="dark">Dark</option>
                        <option value="light">Light</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="columns-input">Columns per row:</label>
                    <div class="number-input-wrapper">
                        <input type="number" id="columns-input" min="1" max="6" value="3">
                        <div class="number-input-controls">
                            <button type="button" class="number-input-btn number-input-up" data-input="columns-input">▲</button>
                            <button type="button" class="number-input-btn number-input-down" data-input="columns-input">▼</button>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="font-size-select">Font size:</label>
                    <select id="font-size-select">
                        <option value="small">Small</option>
                        <option value="medium">Medium</option>
                        <option value="large">Large</option>
                    </select>
                </div>
                
                <div class="checkbox-tree">
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="new-tab-checkbox">
                            <span class="checkbox-text">Open links in new tab</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-background-dots-checkbox">
                            <span class="checkbox-text">Show background dots</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-title-checkbox">
                            <span class="checkbox-text">Show dashboard title</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-date-checkbox">
                            <span class="checkbox-text">Show date</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-config-button-checkbox">
                            <span class="checkbox-text">Show config button</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="device-specific-checkbox">
                            <span class="checkbox-text">Use device-specific settings</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="global-shortcuts-checkbox">
                            <span class="checkbox-text">Use shortcuts from all pages</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item">
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-status-checkbox">
                            <span class="checkbox-text">Show bookmark status (online/offline)</span>
                        </label>
                    </div>
                    <div class="checkbox-tree-item checkbox-tree-child">
                        <span class="tree-symbol">└──</span>
                        <label class="checkbox-label">
                            <input type="checkbox" id="show-ping-checkbox">
                            <span class="checkbox-text">Show ping times (ms)</span>
                        </label>
                    </div>
                </div>
            </div>
            </div>

            <div class="tab-content" data-tab-content="pages">
            <div class="config-section">
                <div id="pages-list" class="pages-list js-list">
                    <!-- Pages will be loaded here -->
                </div>
                <button id="add-page-btn" class="btn btn-primary">Add Page</button>
            </div>
            </div>

            <div class="tab-content" data-tab-content="categories">
            <div class="config-section">
                <div id="categories-list" class="categories-list js-list">
                    <!-- Categories will be loaded here -->
                </div>
                <button id="add-category-btn" class="btn btn-primary">Add Category</button>
            </div>
            </div>

            <div class="tab-content" data-tab-content="bookmarks">
            <div class="config-section">
                <div class="page-selector-wrapper">
                    <label for="page-selector">Bookmarks page:</label>
                    <select id="page-selector" class="page-selector">
                        <!-- Pages will be loaded here -->
                    </select>
                </div>
                <div id="bookmarks-list" class="bookmarks-list js-list">
                    <!-- Bookmarks will be loaded here -->
                </div>
                <button id="add-bookmark-btn" class="btn btn-primary">Add Bookmark</button>
            </div>
            </div>

            </main>
        </div>
    </div>

    <div id="notification" class="notification">
        <span id="notification-message"></span>
    </div>

    <script src="/static/js/modal.js"></script>
    <script src="/static/js/status.js"></script>
    <script src="/static/js/select.js"></script>
    <script src="/static/js/reorder.js"></script>
    <!-- Config modules (must be loaded before main config.js) -->
    <script src="/static/js/config/config-ui.js"></script>
    <script src="/static/js/config/config-storage.js"></script>
    <script src="/static/js/config/config-data.js"></script>
    <script src="/static/js/config/config-pages.js"></script>
    <script src="/static/js/config/config-categories.js"></script>
    <script src="/static/js/config/config-bookmarks.js"></script>
    <script src="/static/js/config/config-settings.js"></script>
    <!-- Main config orchestrator -->
    <script src="/static/js/config.js"></script>
</body>
</html>